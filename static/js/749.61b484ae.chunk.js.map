{"version":3,"file":"static/js/749.61b484ae.chunk.js","mappings":"iNAuCMA,GAAiBC,EAAAA,EAAAA,GAAkD,CACrEC,KAAM,SADaD,EAxBqF,SAAH,GAA2C,IAAtCE,EAAY,EAAZA,aAAcC,EAAK,EAALA,MAAOC,EAAU,EAAVA,WAC/H,OACA,kBAAMC,SAAUH,EAAa,WACzB,0BACA,SAAC,IAAK,CAACI,YAAa,QAASC,KAAM,QAASC,UAAWC,EAAAA,EAAOC,SAAU,CAACC,EAAAA,GAAUC,EAAAA,EAAAA,GAAiB,UAEpG,0BACA,SAAC,IAAK,CAACN,YAAa,WAAYC,KAAM,WAAYM,KAAK,WAAWL,UAAWC,EAAAA,EAAOC,SAAU,CAACC,EAAAA,GAAUC,EAAAA,EAAAA,GAAiB,UAE1H,4BACA,SAAC,IAAK,CAACC,KAAM,WAAYN,KAAM,aAAcC,UAAWC,EAAAA,EAAOC,SAAU,CAACC,EAAAA,KAAY,kBAErFP,IAAc,gBAAKU,IAAKV,IACxBA,IAAc,SAAC,IAAK,CAACE,YAAa,gBAAiBC,KAAM,UAAWC,UAAWC,EAAAA,IAC/EN,IAAS,gBAAKY,UAAWC,EAAAA,EAAAA,UAAY,SACjCb,KAEL,0BACA,4BAAQ,cAIhB,IAkDA,WAAec,EAAAA,EAAAA,KAPO,SAACC,GACnB,MAAO,CACHC,OAAQD,EAAME,KAAKD,OACnBf,WAAYc,EAAME,KAAKhB,WAE/B,GAEwC,CAAEiB,WAAAA,EAAAA,GAAYC,YAAAA,EAAAA,IAAtD,EAxBmE,SAACC,GAKhE,OAAGA,EAAMJ,QACE,SAAC,KAAQ,CAACK,GAAI,cAIrB,4BACI,wBAAI,WACJ,SAACzB,EAAc,CAACM,SAXP,SAACoB,GACdF,EAAMF,WAAWI,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASI,QACtF,EAS4CzB,WAAYmB,EAAMnB,eAGlE,G,yKC3Ea0B,EAAW,SAAH,GAAiC,IAA5BC,EAAK,EAALA,MAAOC,EAAI,EAAJA,KAAST,GAAK,YAErCU,EAAWD,EAAKE,SAAWF,EAAK7B,MAEtC,OACI,iBAAKY,UAAWC,EAAAA,EAAAA,YAAgB,KAAOiB,EAAWjB,EAAAA,EAAAA,MAAU,IAAI,WAC5D,0BACA,uCAAce,GAAWR,MAExBU,IAAY,0BAAQD,EAAK7B,UAGtC,EAEaM,EAAQ,SAAH,GAAiC,IAA5BsB,EAAK,EAALA,MAAOC,EAAI,EAAJA,KAAST,GAAK,YAEpCU,EAAWD,EAAKE,SAAWF,EAAK7B,MAEpC,OACI,iBAAKY,UAAWC,EAAAA,EAAAA,YAAgB,KAAOiB,EAAWjB,EAAAA,EAAAA,MAAU,IAAI,WAC5D,0BACI,oCAAWe,GAAWR,OAE1B,0BAAOU,GAAYD,EAAK7B,UAGpC,C,8EC3BO,IAAMQ,EAA0B,SAACwB,GACpC,IAAGA,EAEH,MAAO,mBACX,EAEavB,EAAmB,SAACwB,GAAiB,OAAmB,SAACD,GAClE,GAAGA,EAAME,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAS,WAGlE,CAAC,C,qBCXD,KAAgB,YAAc,kCAAkC,MAAQ,4BAA4B,UAAY,gC","sources":["components/Longin/Login.tsx","components/common/FormControls/FormControls.js","utils/validators/validators.ts","webpack://react-1/./src/components/common/FormControls/FormControls.module.css?7a3d"],"sourcesContent":["import React from \"react\";\r\nimport { Field, InjectedFormProps, reduxForm } from \"redux-form\";\r\nimport { Input } from \"../common/FormControls/FormControls.js\";\r\nimport { maxLenghtCreator, required } from \"../../utils/validators/validators.ts\";\r\nimport { connect } from \"react-redux\";\r\nimport {loginThunk,logoutThunk} from \"../../Redux/auth-reducer.ts\"\r\nimport { Navigate } from \"react-router-dom\";\r\nimport s from \"./../common/FormControls/FormControls.module.css\"\r\nimport { RootState } from \"../../Redux/redux-store\";\r\n\r\ntype LoginFormOwnProps = {\r\n    captchaUrl: string | null\r\n}\r\n\r\n\r\nconst LonginForm: React.FC<InjectedFormProps<LoginFormValuesType, LoginFormOwnProps> & LoginFormOwnProps> = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n    <form onSubmit={handleSubmit}>\r\n        <div>\r\n        <Field placeholder={\"Email\"} name={\"email\"} component={Input} validate={[required, maxLenghtCreator(50)]}/>\r\n        </div>\r\n        <div>\r\n        <Field placeholder={\"Password\"} name={\"password\"} type=\"password\" component={Input} validate={[required, maxLenghtCreator(20)]}/>\r\n        </div>\r\n        <div>\r\n        <Field type={\"checkbox\"} name={\"rememberMe\"} component={Input} validate={[required]}/> remember me\r\n        </div>\r\n        {captchaUrl && <img src={captchaUrl}/>}\r\n        {captchaUrl && <Field placeholder={\"Write captcha\"} name={\"captcha\"} component={Input}/>}\r\n        {error && <div className={s.formErorr}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n        <button>Login</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnProps>({\r\n    form: 'login'\r\n})(LonginForm)\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    captchaUrl: string | null\r\n\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    loginThunk: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n\r\n}\r\n\r\ntype LoginFormValuesType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n\r\n\r\n}\r\n\r\nconst Longin: React.FC<MapStatePropsType & MapDispatchPropsType> = (props) => {\r\n    const onSubmit = (formData: any) => {\r\n        props.loginThunk(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if(props.isAuth) {\r\n        return <Navigate to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Login</h2>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state: RootState): MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { loginThunk, logoutThunk })(Longin);","import React from \"react\"\r\nimport s from \"./FormControls.module.css\"\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n            <textarea {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{ meta.error }</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\r\n    let hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                <input {...input} {...props}/>\r\n            </div>\r\n            <span>{hasError && meta.error}</span>\r\n        </div>\r\n    )\r\n}","export type ValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: ValidatorType = (value) => {\r\n    if(value) return undefined;\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLenghtCreator = (maxLength: number) :ValidatorType=> (value: string) => {\r\n    if(value.length > maxLength) return `Max lenght is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormControls_formControl__8zY++\",\"error\":\"FormControls_error__WAIPk\",\"formErorr\":\"FormControls_formErorr__-y6pN\"};"],"names":["LoginReduxForm","reduxForm","form","handleSubmit","error","captchaUrl","onSubmit","placeholder","name","component","Input","validate","required","maxLenghtCreator","type","src","className","s","connect","state","isAuth","auth","loginThunk","logoutThunk","props","to","formData","email","password","rememberMe","captcha","Textarea","input","meta","hasError","touched","value","maxLength","length"],"sourceRoot":""}